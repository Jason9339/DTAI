# 🏥 中醫食物寒熱辨識與體質分析系統

結合現代AI技術與傳統中醫理論，為您提供個人化的養生建議。

## 🌟 主要功能

### 1. 🍎 食物辨識模組
- **功能描述**：上傳食物圖片，系統自動辨識食材並提供中醫五性屬性
- **技術架構**：支援 ResNet、CNN、Swin Transformer 等深度學習模型
- **輸出資訊**：
  - 食物名稱辨識
  - 五性屬性（寒、涼、平、溫、熱）
  - 歸經資訊
  - 功效說明
  - 辨識信心度

### 2. 🏥 體質推理模組
- **功能描述**：透過20題中醫體質問卷分析使用者體質類型
- **分析方法**：使用 AI (Groq Llama-3.3-70B) 進行智能分析
- **問卷內容**：
  - 15題選擇題（可複選）
  - 5題開放式簡答題
- **體質類型**：
  - 平和質：陰陽氣血調和，體質平和
  - 氣虛質：元氣不足，易疲勞乏力
  - 陽虛質：陽氣不足，畏寒怕冷
  - 陰虛質：陰液虧少，虛熱內擾
  - 痰濕質：痰濕凝聚，形體肥胖
  - 濕熱質：濕熱內蘊，面垢油膩
  - 血瘀質：血行不暢，膚色晦暗
  - 氣鬱質：氣機鬱滯，神情抑鬱
  - 特稟質：先天稟賦不足，過敏體質

### 3. 🌿 養生建議生成模組
- **功能描述**：結合體質分析與食物屬性，使用 AI 生成個人化養生建議
- **AI 技術**：Groq Llama-3.3-70B 模型
- **建議內容**：
  - 針對性飲食建議
  - 生活作息指導
  - 運動養生建議
  - 情緒調理建議
  - 季節養生要點
  - 食物搭配推薦

## 🚀 快速開始

### 安裝依賴
```bash
pip install -r requirements.txt
```

### 設置 API Key
1. 到 [Groq Console](https://console.groq.com/) 註冊並獲取免費的 API Key
2. 設置環境變數：
   ```bash
   export GROQ_API_KEY=your_api_key_here
   ```
   或者在 Gradio 界面中直接輸入 API Key

### 運行應用
```bash
python3 main.py
```

系統將自動啟動並提供一個可分享的 Gradio 連結。

## 📱 使用流程

1. **食物辨識**
   - 在「食物辨識」頁面上傳食物圖片
   - 點擊「開始辨識」按鈕
   - 查看辨識結果和中醫屬性

2. **體質分析**
   - 在「體質分析」頁面設置 Groq API Key（如需要）
   - 完成20題問卷（15題選擇題 + 5題簡答題）
   - 點擊「AI 分析體質」按鈕
   - 獲得 AI 生成的詳細體質分析報告

3. **養生建議**
   - 在「養生建議」頁面點擊「生成養生建議」
   - AI 將結合體質分析和食物辨識結果生成個人化建議

## 🔧 技術架構

### 前端界面
- **框架**：Gradio 4.0+
- **特色**：響應式設計，支援多標籤頁面
- **部署**：使用 `share=True` 功能快速分享

### 後端邏輯
- **食物辨識**：預留深度學習模型接口
- **體質分析**：使用 aisuite + Groq API 進行 AI 分析
- **建議生成**：基於 Llama-3.3-70B 的智能建議生成

### 資料庫
- **食物屬性庫**：支援CSV格式的食物資料庫
  - 格式：`English,Chinese,FiveNature`
  - 範例：`apple,蘋果,平性`
  - 系統自動根據五性配置歸經和功效
- **體質問卷**：標準化的中醫體質評估問題
- **建議模板**：針對不同體質的養生建議

## 🎯 未來發展

### 模型優化
- [ ] 整合真實的食物辨識模型
- [ ] 擴充食物資料庫
- [ ] 提升辨識準確率

### 功能擴展
- [ ] 整合大型語言模型 API
- [ ] 增加更多體質評估維度
- [ ] 支援歷史記錄查詢
- [ ] 添加用戶個人檔案

### 系統優化
- [ ] 資料庫持久化
- [ ] 用戶認證系統
- [ ] 多語言支援
- [ ] 移動端優化

## ⚠️ 免責聲明

本系統僅供學習和參考使用，不能替代專業醫療建議。如有健康問題，請諮詢合格的中醫師或醫療專業人員。

## 📄 授權

本項目採用 MIT 授權條款。

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request 來改進這個項目！ 